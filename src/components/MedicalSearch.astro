---
  import SearchIcon from '../icons/SearchIcon.astro';
  import FilterIcon from '../icons/FilterIcon.astro';

  const mockup = `{
    "name": "Orthopedic Medicine and Rehabilitation Center",
    "address": {
      "street": "AV. Juan Antonio Cavestany 2 (Local)",
      "city": "Seville",
      "postal_code": "41003",
      "country": "Spain"
    },
    "phone": "954537172",
    "distance_km": 0.24,
    "location": {
      "latitude": 37.3914,
      "longitude": -5.9823
    },
    "opening_hours": [
      {
        "day": "Monday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Tuesday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Wednesday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Thursday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Friday",
        "open": "08:00",
        "close": "15:00"
      },
      {
        "day": "Saturday",
        "open": "Closed",
        "close": "Closed"
      },
      {
        "day": "Sunday",
        "open": "Closed",
        "close": "Closed"
      }
    ]
  }`
---

<!-- Importar Alpine.js en la página si no está globalmente -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer
></script>

<section
  class="grid grid-cols-1 items-center lg:gap-10 rounded-xl max-w-5xl
mx-auto"
  data-component="MedicalSearch"
>
  <div
    class="relative z-10 flex flex-col items-center justify-left h-full text-start text-white px-6"
  >
    <div>
      <h3 class="text-4xl md:text-6xl font-bold">
        Busca un médico cerca de ti
      </h3>

      <!-- Input de búsqueda con Alpine.js -->
      <div
        x-data="{ showFilters: false }"
        class="relative mt-2 flex items-center w-full max-w-lg"
      >
        <input
          type="text"
          placeholder="Introduce una especialidad, nombre o ubicación"
          class="w-full bg-white text-gray-900 min-w-128 rounded-full px-4 py-3 pr-16 shadow-lg focus:outline-none"
        />

        <!-- Botón de búsqueda -->
        <button
          type="submit"
          class="absolute right-12 hover:bg-gray-300 text-white p-3 rounded-full transition duration-300 cursor-pointer"
        >
          <SearchIcon />
        </button>

        <!-- Botón de filtros con Alpine.js -->
        <button
          type="button"
          class="absolute right-2 hover:bg-gray-300 p-3 rounded-full transition duration-300 cursor-pointer"
          @click="showFilters = !showFilters"
        >
          <FilterIcon/>
        </button>

        <!-- Filtros desplegables -->
        <div
          x-show="showFilters"
          class="absolute top-full mt-2 w-full max-w-lg bg-white shadow-lg rounded-lg p-4 z-1000"
        >
          <h3 class="text-lg font-semibold text-gray-900">Filtros</h3>
          <div class="mt-2 space-y-2">
            <label class="block text-gray-700">
              <span>Especialidad:</span>
              <select class="w-full mt-1 p-2 border border-gray-300 rounded-md">
                <option>Cardiología</option>
                <option>Neurología</option>
                <option>Oftalmología</option>
              </select>
            </label>

            <label class="block text-gray-700">
              <span>Ubicación:</span>
              <input
                type="text"
                class="w-full mt-1 p-2 border border-gray-300 rounded-md"
                placeholder="Introduce una ciudad"
              />
            </label>

            <button
              class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md"
            >
              Aplicar filtros
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
