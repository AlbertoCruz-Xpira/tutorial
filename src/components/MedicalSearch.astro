---
import SearchIcon from "../icons/SearchIcon.astro";
import FilterIcon from "../icons/FilterIcon.astro";

const mockup = `{
    "name": "Orthopedic Medicine and Rehabilitation Center",
    "address": {
      "street": "AV. Juan Antonio Cavestany 2 (Local)",
      "city": "Seville",
      "postal_code": "41003",
      "country": "Spain"
    },
    "phone": "954537172",
    "distance_km": 0.24,
    "location": {
      "latitude": 37.3914,
      "longitude": -5.9823
    },
    "opening_hours": [
      {
        "day": "Monday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Tuesday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Wednesday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Thursday",
        "open": "08:00",
        "close": "18:00"
      },
      {
        "day": "Friday",
        "open": "08:00",
        "close": "15:00"
      },
      {
        "day": "Saturday",
        "open": "Closed",
        "close": "Closed"
      },
      {
        "day": "Sunday",
        "open": "Closed",
        "close": "Closed"
      }
    ]
  }`;
---

<!-- Importar Alpine.js en la página si no está globalmente -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer
></script>

<section
  class="grid grid-cols-1 items-center lg:gap-10 rounded-xl max-w-5xl
mx-auto"
  data-component="MedicalSearch"
>
  <div
    class="relative z-1000 flex flex-col items-center justify-left h-full text-start text-white px-6"
  >
    <div>
      <h3 class="text-4xl md:text-6xl font-bold">
        Busca un médico cerca de ti
      </h3>

      <!-- Input de búsqueda con Alpine.js -->
      <div
        x-data="{ showFilters: false }"
        class="relative mt-2 flex items-center w-full max-w-lg"
      >
        <input
          type="text"
          placeholder="Introduce una especialidad, nombre o ubicación"
          class="w-full bg-white text-gray-900 min-w-128 rounded-full px-4 py-3 pr-16 shadow-lg focus:outline-none"
        />

        <!-- Botón de búsqueda -->
        <button
          type="submit"
          class="absolute right-12 hover:bg-gray-300 text-white p-3 rounded-full transition duration-300 cursor-pointer"
        >
          <SearchIcon />
        </button>

        <!-- Botón de filtros con Alpine.js -->
        <button
          type="button"
          class="absolute right-2 hover:bg-gray-300 p-3 rounded-full transition duration-300 cursor-pointer"
          @click="showFilters = !showFilters"
        >
          <FilterIcon />
        </button>

        <!-- Filtros desplegables -->
        <div
          x-show="showFilters"
          class="absolute top-full mt-2 w-full max-w-lg bg-white shadow-lg rounded-lg p-4 z-1000"
        >
          <div class="grid grid-cols-1 gap-5">
            <p class="text-lg font-semibold text-gray-900">
              Introduce aquí los datos para una nueva búsqueda (Ciudad, C.P.,
              dirección...)
            </p>

            <section class="grid grid-cols-2 gap-5">
              <label class="block text-gray-700">
                <span>Distancia:</span>
                <select
                  id="range"
                  name="Range"
                  class="mt-1 p-2 border border-gray-300 rounded-md"
                >
                  <option value="20">20Km</option>
                  <option value="15">15Km</option>
                  <option value="10">10Km</option>
                  <option value="5">5Km</option>
                  <option value="2">2Km</option>
                  <option value="1">1Km</option>
                </select>
              </label>

              <label class="block text-gray-700">
                <span>Ubicación:</span>
                <input
                  type="text"
                  class="mt-1 p-2 border border-gray-300 rounded-md"
                  placeholder="Introduce una ciudad"
                />
              </label>
            </section>

            <section class="grid grid-cols-2 gap-5">
              <div class="mt-2 space-y-2 gap-5">
                <label class="block text-gray-700">
                  <span>Especialidad:</span>
                  <select
                    class="mt-1 p-2 border border-gray-300 rounded-md"
                    name="IdEspecialidad"
                    ><option value="00">- Todas -</option>
                    <option value="96">A.T.S.</option>
                    <option value="23">ACUPUNTURA</option>
                    <option value="03">ALERGOLOGIA</option>
                    <option value="04">ANALISIS CLINICOS</option>
                    <option value="45">ANALISTA FARMACEUTICO</option>
                    <option value="05">ANATOMIA PATOLOGIA</option>
                    <option value="06">ANESTESIOLOGIA Y REANIMACION</option>
                    <option value="07">ANGIOLOGIA Y CIRUGIA VASCULAR</option>
                    <option value="08">APARATO DIGESTIVO</option>
                    <option value="09">CARDIOLOGIA</option>
                    <option value="304">CIRUGIA BARIATRICA</option>
                    <option value="56">CIRUGIA BARIATRICA</option>
                    <option value="10">CIRUGIA CARDIOVASCULAR</option>
                    <option value="11"
                      >CIRUGIA GENERAL Y DEL APARATO DIGESTIVO</option
                    >
                    <option value="12">CIRUGIA ORAL Y MAXILOFACIAL</option>
                    <option value="40"
                      >CIRUGIA ORTOPEDICA Y TRAUMATOLOGIA</option
                    >
                    <option value="13">CIRUGIA PEDIATRICA</option>
                    <option value="14">CIRUGIA PLASTICA Y REPARADORA</option>
                    <option value="15">CIRUGIA TORACICA</option>
                    <option value="16"
                      >DERMATOLOGIA MEDICO QUIRURGICA Y VENEREO</option
                    >
                    <option value="18">ENDOCRINOLOGIA Y NUTRICION</option>
                    <option value="92">FISIOTERAPIA</option>
                    <option value="84">GENETICA MEDICA</option>
                    <option value="20">GERIATRIA</option>
                    <option value="21">HEMATOLOGIA Y HEMOTERAPIA</option>
                    <option value="95">HOMEOPATIA</option>
                    <option value="301">HOSPITALIZACION</option>
                    <option value="22">INMUNOLOGIA</option>
                    <option value="104">LOGOPEDIA</option>
                    <option value="97">MATRONA</option>
                    <option value="106">MEDICINA BIOLOGICA</option>
                    <option value="107">MEDICINA DE FAMILIA</option>
                    <option value="109">MEDICINA DEPORTIVA</option>
                    <option value="110">MEDICINA ESTETICA</option>
                    <option value="37">MEDICINA FISICA Y REHABILITACION</option>
                    <option value="01">MEDICINA GENERAL</option>
                    <option value="24">MEDICINA INTERNA</option>
                    <option value="59">MEDICINA NUCLEAR</option>
                    <option value="26">NEFROLOGIA</option>
                    <option value="27">NEUMOLOGIA</option>
                    <option value="28">NEUROCIRUGIA</option>
                    <option value="29">NEUROFISIOLOGIA CLINICA</option>
                    <option value="30">NEUROLOGIA</option>
                    <option value="153">NUTRICION Y DIETETICA</option>
                    <option value="31">OBSTETRICIA Y GINECOLOGIA</option>
                    <option value="32">OFTALMOLOGIA</option>
                    <option value="33">ONCOLOGIA MEDICA</option>
                    <option value="34">ONCOLOGIA RADIOTERAPICA</option>
                    <option value="100">ORIENTACION MEDICA TELEFONICA</option>
                    <option value="120">OSTEOPATIA</option>
                    <option value="35">OTORRINOLARINGOLOGIA</option>
                    <option value="02">PEDIATRIA</option>
                    <option value="98">PODOLOGIA</option>
                    <option value="99">PSICOLOGIA</option>
                    <option value="36">PSIQUIATRIA</option>
                    <option value="128">QUIROFANO</option>
                    <option value="82">RADIODIAGNOSTICO</option>
                    <option value="150">RADIODIAGNOSTICO VARIOS</option>
                    <option value="300">RECONOCIMIENTO MEDICO</option>
                    <option value="42">REPRODUCCION ASISTIDA</option>
                    <option value="38">REUMATOLOGIA</option>
                    <option value="19"
                      >SERVICIO DENTAL (DESCUENTO GARANTIZADO)</option
                    >
                    <option value="138">TRASLADOS</option>
                    <option value="39">TRATAMIENTO DEL DOLOR</option>
                    <option value="90">URGENCIA DOMICILIARIA</option>
                    <option value="143">URGENCIAS HOSPITALARIAS</option>
                    <option value="41">UROLOGIA</option>
                    <option value="43">VALORACION DAÑO CORPORAL</option>
                    <option value="350">VENTA MATERIAL</option>
                  </select>
                </label>
              </div>
              <div>
                <label for="Name">Nombre del médico:</label>
                <input
                  id="name"
                  name="Name"
                  pattern="[A-Za-zàáâäãåèéêëìíîïòóôöõøùúûüÿýñçčšžÀÁÂÄÃÅÈÉÊËÌÍÎÏÒÓÔÖÕØÙÚÛÜŸÝÑßÇŒÆČŠŽ∂ð ,.'-]+"
                  type="text"
                  value=""
                />
              </div>
            </section>

            <button
              class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md"
            >
              Aplicar filtros
            </button>
          </div>
        </div>
        <!-- /Filtros desplegables -->
      </div>
    </div>
  </div>
</section>
